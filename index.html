<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300..800;1,300..800&display=swap" rel="stylesheet">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script type="application/javascript" src="http://ipinfo.io/?format=jsonp&callback=getIP"></script>
</head>
<body>
    <nav class="nav">
    <div class="head"><div>HOME</div>
                        <div>ABOUT</div>
                        <div>RESUME</div>
        </div>
    </nav>
    <div class="corp">
        <div class="stomach">
            <div>
            <p id="name" align="center">Hi, I'm Oussama</p>
            <p id="cmt" align="center">and this page has been viewed 37998 times :)</p>
            <div class="list"></div>
            </div>
        </div>
    </div>
    <div class="me">
        <img width="140" src="oussama.png">
        <div>
            <p name="az">ABOUT ME</p>
            <p name="ay">Hi, I'm Oussama Arouay, Passionate Software Engineering Student <br> üîç Seeking Opportunities to Apply Skills and Learn.</p>
            <p name="ay">I built this page to showcase my resume.</p>
        </div>
    </div>
    <script>
        function registerName(name) {
        const storedIPs = localStorage.getItem('ipadd');
        const ips = storedIPs ? storedIPs.split(',') : [];
        if (!ips.includes(name)) {
            ips.push(name);
            localStorage.setItem('ipadd', ips.join(','));
        }
        return ips.length;
    }
    
    function checkIfIPExists(ipAddress) {
        const storedIPs = localStorage.getItem('ipadd');
        const ips = storedIPs ? storedIPs.split(',') : [];
        return ips.includes(ipAddress);
    }
    
    
    
    if (checkIfIPExists(json.ip)) {
        console.log("exist");
    } else {
        const numLines = registerName(json.ip);
        console.log(numLines);
    }
        {
            const nav =document.querySelector(".nav");
            let lastScrollY=window.scrollY;

            window.addEventListener("scroll", ()=>{
                if(lastScrollY<window.scrollY){
                    nav.classList.add("nav--hidden");
                }
                else{
                    nav.classList.remove("nav--hidden");
                }
            lastScrollY=window.screenY;
            })
        }
    </script>
</body>
</html>
