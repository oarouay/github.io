<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300..800;1,300..800&display=swap" rel="stylesheet">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script type="application/javascript" src="http://ipinfo.io/?format=jsonp&callback=getIP"></script>
</head>
<body>
    <nav class="nav">
    <div class="head"><div>HOME</div>
                        <div>ABOUT</div>
                        <div>RESUME</div>
        </div>
    </nav>
    <div class="corp">
        <div class="stomach">
            <div>
            <p id="name" align="center">Hi, I'm Oussama</p>
            <p id="cmt" align="center">and this page has been viewed 37998 times :)</p>
            <div class="list"></div>
            </div>
        </div>
    </div>
    <div class="me">
        <img width="140" src="oussama.png">
        <div>
            <p name="az">ABOUT ME</p>
            <p name="ay">Hi, I'm Oussama Arouay, Passionate Software Engineering Student <br> üîç Seeking Opportunities to Apply Skills and Learn.</p>
            <p name="ay">I built this page to showcase my resume.</p>
        </div>
    </div>
    <script>
        const fs = require('fs');

    
        function registerName(filename, name) {
            fs.appendFileSync(filename, name + '\n');
        }
        
        
        function countLines(filename) {
            const fileContent = fs.readFileSync(filename, 'utf8');
            const lines = fileContent.split('\n');
            return lines.length;
        }
        
        const filename = 'ipadd.txt';
        
        
            function checkIfIPExists(filename, ipAddress) {
            const fileContent = fs.readFileSync(filename, 'utf8');
            const lines = fileContent.split('\n');
            for (const line of lines) {
                if (line.trim() === ipAddress) {
                    return true;
                }
            }
            return false;
            }
            if(checkIfIPExists(filename,json.ip)){
                console.log("exist");
            }
            else{
            registerName(filename,json.ip);
            console.log( countLines(filename));
            }
        {
            const nav =document.querySelector(".nav");
            let lastScrollY=window.scrollY;

            window.addEventListener("scroll", ()=>{
                if(lastScrollY<window.scrollY){
                    nav.classList.add("nav--hidden");
                }
                else{
                    nav.classList.remove("nav--hidden");
                }
            lastScrollY=window.screenY;
            })
        }
    </script>
</body>
</html>
